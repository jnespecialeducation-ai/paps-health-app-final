# 🚀 학생들이 사용할 수 있게 웹 배포하기

이 가이드를 따라하면 학생들이 인터넷에서 접속할 수 있는 웹사이트가 만들어집니다.

## 📋 배포 전 체크리스트

- [ ] GitHub 계정이 있음
- [ ] Vercel 계정이 있음 (무료로 만들 수 있음)
- [ ] 프로젝트가 로컬에서 정상 작동함 (`npm run dev` 성공)

---

## 🎯 배포 방법 (3가지 옵션)

### 방법 1: Vercel (가장 추천 ⭐)

**장점:**
- 무료로 시작 가능
- 자동 배포 (GitHub에 푸시하면 자동 업데이트)
- 빠르고 간단함
- 한국어 지원

**단계:**

#### 1단계: GitHub에 코드 업로드

```bash
# 프로젝트 폴더에서 실행
git init
git add .
git commit -m "Initial commit"

# GitHub에서 새 저장소 생성 후 아래 명령어 실행
# (https://github.com 에서 저장소를 먼저 만들어야 함)
git remote add origin https://github.com/사용자명/저장소명.git
git branch -M main
git push -u origin main
```

#### 2단계: PostgreSQL 데이터베이스 생성 (무료)

**옵션 A: Neon (가장 추천)**
1. https://neon.tech 접속 → 회원가입
2. "Create Project" 클릭
3. 프로젝트 이름 입력 (예: `paps-health`)
4. "Connection String" 복사 (나중에 사용)

**옵션 B: Supabase**
1. https://supabase.com 접속 → 회원가입
2. "New Project" 클릭
3. Settings → Database → Connection String 복사

**옵션 C: Vercel Postgres (가장 간단)**
- Vercel에서 프로젝트 생성 후 Storage 탭에서 직접 생성 가능

#### 3단계: Vercel에 배포

1. https://vercel.com 접속 → 로그인 (GitHub 계정으로 로그인)
2. "Add New..." → "Project" 클릭
3. 방금 만든 GitHub 저장소 선택 → "Import"
4. **환경 변수 설정** (중요!):
   - `DATABASE_URL`: 위에서 복사한 PostgreSQL 연결 문자열
   - `OPENAI_API_KEY`: (선택사항) AI 추천 기능 사용 시만
5. "Deploy" 버튼 클릭
6. 2-3분 대기
7. ✅ 완료! 공개 URL 확인 (예: `https://your-app.vercel.app`)

**🎉 이제 이 URL을 학생들에게 공유하면 됩니다!**

---

### 방법 2: Netlify

**장점:**
- 무료 플랜 제공
- 간단한 설정

**단계:**
1. https://netlify.com 접속 → 회원가입
2. GitHub 저장소 연결
3. 빌드 설정:
   - Build command: `npm run build`
   - Publish directory: `.next`
4. 환경 변수 설정 (DATABASE_URL 등)
5. 배포

---

### 방법 3: 자체 서버 (고급)

AWS, Google Cloud, Azure 등에 직접 배포하는 방법입니다.
자세한 내용은 `DEPLOYMENT.md`를 참조하세요.

---

## 🔧 배포 후 확인사항

### 1. 웹사이트 접속 테스트
- 배포된 URL로 접속
- 페이지가 정상적으로 로드되는지 확인

### 2. 데이터베이스 연결 확인
- "새 학생 등록" 기능 테스트
- 데이터가 저장되는지 확인

### 3. 모든 기능 테스트
- 학생 등록
- 측정 데이터 입력
- 결과 확인
- AI 추천 (사용하는 경우)

---

## ⚠️ 주의사항

### 데이터베이스
- **무료 플랜 제한**: Neon/Supabase 무료 플랜은 약 500MB 제공
- **백업**: 중요한 데이터는 정기적으로 백업하세요

### 비용
- **Vercel**: 무료 플랜으로 시작 가능 (월 100GB 대역폭)
- **데이터베이스**: 무료 플랜으로 시작 가능
- **OpenAI API**: 사용량에 따라 비용 발생 (선택사항)

### 보안
- 환경 변수는 절대 GitHub에 올리지 마세요
- `.env` 파일은 `.gitignore`에 포함되어 있습니다

---

## 🔄 업데이트 배포

코드를 수정한 후:

```bash
git add .
git commit -m "업데이트 내용"
git push origin main
```

Vercel이 자동으로 새 버전을 배포합니다!

---

## 🆘 문제 해결

### 빌드 실패
1. Vercel 대시보드 → Deployments → 실패한 배포 → Logs 확인
2. `DATABASE_URL` 환경 변수가 올바른지 확인
3. 빌드 로그에서 오류 메시지 확인

### 데이터베이스 연결 실패
1. `DATABASE_URL` 환경 변수 확인
2. PostgreSQL 연결 문자열 형식 확인
3. 데이터베이스 서비스가 실행 중인지 확인

### 페이지가 안 열림
1. 브라우저 캐시 삭제 후 다시 시도
2. Vercel 대시보드에서 배포 상태 확인
3. 도메인 설정 확인

---

## 📞 도움이 필요하신가요?

- **Vercel 문서**: https://vercel.com/docs
- **Neon 가이드**: https://neon.tech/docs
- **Supabase 가이드**: https://supabase.com/docs
- **자세한 배포 가이드**: `DEPLOYMENT.md` 참조

---

## ✅ 빠른 시작 (5분 안에!)

1. GitHub에 코드 업로드
2. Neon에서 PostgreSQL 데이터베이스 생성
3. Vercel에서 프로젝트 Import
4. `DATABASE_URL` 환경 변수 설정
5. Deploy 클릭!

**완료! 🎉**
